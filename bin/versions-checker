#!/usr/bin/env node
"use strict";function around(o,n,e){var i=o[n];o[n]=function(){for(var o=new Array(arguments.length),n=0;n<o.length;n++)o[n]=arguments[n];return e.call(this,i,o)}}function before(o,n,e){var i=o[n];o[n]=function(){e.call(this),i.apply(this,arguments)}}function exit(o){function n(){e--||_exit(o)}var e=0,i=[process.stdout,process.stderr];exit.exited=!0,i.forEach(function(o){e+=1,o.write("",n)}),n()}var com=require("commander"),col=require("colors/safe").green,ind=require("./index"),_exit=process.exit;if(process.exit=exit,around(com,"optionMissingArgument",function(o,n){return com.outputHelp(),o.apply(this,n),{args:[],unknown:[]}}),before(com,"outputHelp",function(){this._helpShown=!0}),before(com,"unknownOption",function(){this._allowUnknownOption=this._helpShown,this._helpShown||com.outputHelp()}),com.version(require("./../package.json").version,"    --version").usage("[options]").option("    --all","lists all installed versions").option("-s  --silent","will not exit even versions didn't match").option("-n  --node [version]","check node version").option("-m  --npm [version]","check npm version").option("-y  --yarn [version]","check yarn version").option("-g  --git [version]","check git version").option("-k  --karma [version]","check karma version").option("    --gulp [version]","check gulp version").option("    --grunt [version]","check grunt version").option("-e  --eslint [version]","check eslint version").option("-t  --tslint [version]","check tslint version").option("    --nvm [version]","check nvm version").option("    --n-mac [version]","check n version"),com.on("--help",function(){console.log(),console.log(col("  Examples:")),console.log(),console.log(col("    $ "+com.name()+' --node ">=4.2.1"')),console.log(col("    $ "+com.name()+" --help")),console.log()}),com.parse(process.argv),!exit.exited){try{com.all?ind.checkAll():ind.validate({node:com.node,npm:com.npm,yarn:com.yarn,git:com.git,karma:com.karma,gulp:com.gulp,grunt:com.grunt,eslint:com.eslint,tslint:com.tslint,nvm:com.nvm,n:com.nMac})||_exit(1)}catch(o){throw o}exit.exited=!1,_exit(0)}